[
    {
        "ref": "https://dengxiujun.github.io/blog/oracle_reademe/",
        "title": "oracle è®°å½•",
        "section": "blog",
        "date" : "2019.04.01",
        "body": " 01. dmpæ–‡ä»¶å¯¼å…¥æ­¥éª¤ 01) ç”¨ç®¡ç†å‘˜ç™»å½•:\n# æ–¹æ³•ä¸€ system as sysdba # æ–¹æ³•äºŒ sys as sysdba  02) åˆ›å»ºç”¨æˆ·\nCREATE USER \u0026lt;USERNAME\u0026gt; IDENTIFIED BY \u0026lt;PASSWORD\u0026gt;;  03) èµ‹æƒé™ç»™æ–°ç”¨æˆ·\nGRANT CREATE USER, DROP USER, ALTER USER, CREATE ANY VIEW, DROP ANY VIEW, EXP_FULL_DATABASE, IMP_FULL_DATABASE, DBA, CONNECT, RESOURCE, CREATE SESSION TO \u0026lt;ç”¨æˆ·å\u0026gt;;  04) æ‰“å¼€cmdçª—å£\nIMP \u0026lt;USERNAME\u0026gt;/\u0026lt;PASSWORD\u0026gt;@\u0026lt;SID\u0026gt; FILE=D:\\\\XXX.DMP FULL=Y;  05) å¯¼å‡ºå‘½ä»¤:\n# å¯¼å‡ºæŸäº›æŒ‡å®šçš„è¡¨: exp \u0026lt;username\u0026gt;/\u0026lt;password\u0026gt;@\u0026lt;SID\u0026gt; file=d:\\\\xxx.dmp tables=(table1,table2,table3) # å¯¼å‡ºæŸä¸ªç”¨æˆ·çš„è¡¨: exp \u0026lt;username\u0026gt;/\u0026lt;password\u0026gt;@\u0026lt;SID\u0026gt; file=d:\\\\xxx.dmp owner=\u0026lt;username\u0026gt;  02. å¸¸ç”¨æ“ä½œ 01) åˆ‡æ¢ç”¨æˆ·\n# æ–¹å¼ä¸€ CONNECT SYS/123456 AS SYSDBA; # æ–¹å¼äºŒ CONN SCOTT/TIGER;  02) é€€å‡ºsqlplus:\nEXIT;  03) å…ç™»å½•è¿›å…¥ sqlplus:\n# æ–¹å¼ä¸€ sqlplus /nolog # æ–¹å¼äºŒ sqlplus / as sysdba  04) æŸ¥è¯¢è¡¨ä¿¡æ¯:\nDESC \u0026lt;TABLENAME\u0026gt;;  05) è¡¨ç»“æ„ä¿®æ”¹å­—æ®µ:\nALTER TABLE \u0026lt;TABLE_NAME\u0026gt; MODIFY (\u0026lt;FIELD_NAME\u0026gt; \u0026lt;FIELD_TYPE\u0026gt;);  06) è¡¨ç»“æ„å¢åŠ å­—æ®µ:\nALTER TABLE \u0026lt;TABLE_NAME\u0026gt; ADD \u0026lt;FIELD_NAME\u0026gt; \u0026lt;FIELD_TYPE\u0026gt;;  07) è¡¨ç»“æ„å¢åŠ æ³¨é‡Š:\nCOMMENT ON COLUMN \u0026lt;TABLE_NAME\u0026gt;.\u0026lt;FIELD_NAME\u0026gt; IS '\u0026lt;COMMENT_CONTENT\u0026gt;';  08) æ˜¾ç¤ºå½“å‰ç”¨æˆ·:\nSHOW USER;  09) è§£é”ç”¨æˆ·:\nALTER USER \u0026lt;USERNAME\u0026gt; ACCOUNT UNLOCK;  10) ä¿®æ”¹ç”¨æˆ·å¯†ç :\nALTER USER \u0026lt;USERNAME\u0026gt; IDENTIFIED BY \u0026lt;NEW_PASSWORD\u0026gt;;  11) æ˜¾ç¤ºå½“å‰æ•°æ®åº“å®ä¾‹:\n# æ–¹å¼ä¸€ SHOW PARAMETER INTANCE; # æ–¹å¼äºŒ SELECT INSTANCE_NAME FROM V$INSTANCE;  12) sqlè¯­å¥case when çš„ç”¨æ³•:\ncase when \u0026lt;condition\u0026gt; then \u0026lt;what to do when condition is true\u0026gt; else \u0026lt;what to do when condition is false\u0026gt; end  13) è¡¨ç»“æ„å­—æ®µåç§°ä¿®æ”¹:\nALTER TABLE \u0026lt;TABLE_NAME\u0026gt; RENAME COLUMN \u0026lt;OLD_FIELD_NAME\u0026gt; TO \u0026lt;NEW_FIELD_NAME\u0026gt;;  03.GRANT èµ‹äºæƒé™ å¸¸ç”¨çš„ç³»ç»Ÿæƒé™é›†åˆæœ‰ä»¥ä¸‹ä¸‰ä¸ª:\nCONNECT(åŸºæœ¬çš„è¿æ¥), RESOURCE(ç¨‹åºå¼€å‘), DBA(æ•°æ®åº“ç®¡ç†)\nå¸¸ç”¨çš„æ•°æ®å¯¹è±¡æƒé™æœ‰ä»¥ä¸‹äº”ä¸ª:\nALL ON æ•°æ®å¯¹è±¡å, SELECT ON æ•°æ®å¯¹è±¡å, UPDATE ON æ•°æ®å¯¹è±¡å, DELETE ON æ•°æ®å¯¹è±¡å, INSERT ON æ•°æ®å¯¹è±¡å, ALTER ON æ•°æ®å¯¹è±¡å\nGRANT CONNECT, RESOURCE TO \u0026lt;TABLE_NAME\u0026gt;; GRANT SELECT ON \u0026lt;TABLE_NAME\u0026gt; TO \u0026lt;USER_NAME\u0026gt;; GRANT SELECT, INSERT, DELETE ON \u0026lt;TABLE_NAME\u0026gt; TO \u0026lt;USER_NAME\u0026gt;, \u0026lt;USER_NAME\u0026gt;;  04.REVOKE å›æ”¶æƒé™ REVOKE CONNECT, RESOURCE FROM \u0026lt;USER_NAME\u0026gt;; REVOKE SELECT ON \u0026lt;TABLE_NAME\u0026gt; FROM \u0026lt;USER_NAME\u0026gt;; REVOKE SELECT, INSERT, DELETE ON \u0026lt;TABLE_NAME\u0026gt; FROM \u0026lt;USER_NAME\u0026gt;, \u0026lt;USER_NAME\u0026gt;;  05. é‡å»ºå¹¶ä¿®æ”¹é»˜è®¤ä¸´æ—¶è¡¨ç©ºé—´åŠæ³•: 01) æŸ¥è¯¢å½“å‰æ•°æ®åº“é»˜è®¤ä¸´æ—¶è¡¨ç©ºé—´åå’ŒæŸ¥è¯¢ä¸´æ—¶è¡¨ç©ºé—´æ•°æ®æ–‡ä»¶\nselect * from database_properties where property_name='DEFAULT_TEMP_TABLESPACE'; select tablespace_name,file_name,bytes/1024/1024 file_size,autoextensible from dba_temp_files;  02) åˆ›å»ºæ–°çš„ä¸´æ—¶è¡¨ç©ºé—´\ncreate temporary tablespace temp02 tempfile 'E:\\oracle\\oradata\\lims\\TEMP02.DBF' size 1024M autoextend on;  03) ä¿®æ”¹é»˜è®¤è¡¨ç©ºé—´ä¸ºåˆšåˆšå»ºç«‹çš„ä¸´æ—¶è¡¨ç©ºé—´\nalter database default temporary tablespace temp02;  04) æŸ¥çœ‹ç”¨æˆ·æ‰€ç”¨ä¸´æ—¶è¡¨ç©ºé—´çš„æƒ…å†µ\nSELECT USERNAME,TEMPORARY_TABLESPACE FROM DBA_USERS;  05) åˆ é™¤åŸæ¥çš„ä¸´æ—¶è¡¨ç©ºé—´\ndrop tablespace temp including contents and datafiles;  06) æŸ¥çœ‹æ‰€æœ‰è¡¨ç©ºé—´åç¡®è®¤ä¸´æ—¶è¡¨ç©ºé—´æ˜¯å¦å·²åˆ é™¤\nselect tablespace_name from dba_tablespaces;  06. ä¸´æ—¶è¡¨ç©ºé—´ç›¸å…³å¤„ç† 01) æŸ¥è¯¢é»˜è®¤ä¸´æ—¶è¡¨ç©ºé—´\nselect * from database_properties where property_name='DEFAULT_TEMP_TABLESPACE';  02) æŸ¥è¯¢ä¸´æ—¶è¡¨ç©ºé—´æ•°æ®æ–‡ä»¶çŠ¶æ€:\nselect tablespace_name,file_name,bytes/1024/1024 file_size,autoextensible from dba_temp_files;  03) åˆ›å»ºæ–°çš„ä¸´æ—¶è¡¨ç©ºé—´\ncreate temporary tablespace temp_01 tempfile '/u01/app/oracle/oradata/XE/temp_01.dbf' size 1024M autoextend on;  04) ä¿®æ”¹é»˜è®¤è¡¨ç©ºé—´ä¸ºæ–°çš„è¡¨ç©ºé—´\nalter database default temporary tablespace temp_01;  05) ä¿®æ”¹ä¸´æ—¶è¡¨ç©ºé—´å¤§å°\nalter database tempfile '/u01/app/oracle/oradata/XE/temp.dbf' resize 512m;  06) è®¾ç½®ä¸´æ—¶è¡¨ç©ºé—´è‡ªåŠ¨å¢é•¿\nalter database tempfile '/u01/app/oracle/oradata/XE/temp.dbf' autoextend on next 8m maxsize unlimited;  07) æŸ¥çœ‹ä¸´æ—¶è¡¨ç©ºé—´ä½¿ç”¨æƒ…å†µ:\nSELECT tbs è¡¨ç©ºé—´å, SUM(totalM) æ€»å…±å¤§å°M, SUM(usedM) å·²ä½¿ç”¨ç©ºé—´M, SUM(remainedM) å‰©ä½™ç©ºé—´M, SUM(usedM) / SUM(totalM) * 100 å·²ä½¿ç”¨ç™¾åˆ†æ¯”, SUM(remainedM) / SUM(totalM) * 100 å‰©ä½™ç™¾åˆ†æ¯” FROM ( SELECT tb.file_id ID, tb.tablespace_name tbs, tb.file_name NAME, tb.bytes / 1024 / 1024 totalM, (tb.bytes - SUM(NVL(ta.free_space, 0))) / 1024 / 1024 usedM, SUM(NVL(ta.free_space, 0) / 1024 / 1024) remainedM, SUM(NVL(ta.free_space, 0) /(tb.bytes) * 100), (100 - (SUM(NVL(ta.free_space, 0)) /(tb.bytes) * 100)) FROM dba_temp_free_space ta, dba_temp_files tb WHERE ta.tablespace_name = tb.tablespace_name GROUP BY tb.tablespace_name, tb.file_name, tb.file_id, tb.bytes ORDER BY tb.tablespace_name ) GROUP BY tbs;  07. è¡¨ç©ºé—´ç›¸å…³å¤„ç† 01) æ‰©å±•è¡¨ç©ºé—´\nalter database datafile '/u01/app/oracle/oradata/XE/system.dbf' resize 1024m;  02) è¡¨ç©ºé—´è‡ªåŠ¨å¢é•¿\nalter system datafile '/u01/app/oracle/oradata/XE/system_01.dbf' autoextend on next 50m maxsize 500m;  03) æ–°å¢è¡¨ç©ºé—´æ•°æ®æ–‡ä»¶\nalter tablespace system add datafile '/u01/app/oracle/oradata/XE/system_01.dbf' size 1024m;  04) æŸ¥è¯¢è¡¨ç©ºé—´çš„æ‰€æœ‰æ•°æ®æ–‡ä»¶\nselect * from dba_data_files where tablespace_name='SYSTEM';  05) æŸ¥è¯¢è¡¨å±äºå“ªä¸ªè¡¨ç©ºé—´\nselect tablespace_name,table_name from user_talbes where table_name='employ';  06) æŸ¥çœ‹è¡¨ç©ºé—´ä½¿ç”¨æƒ…å†µ\nSELECT tbs è¡¨ç©ºé—´å, SUM(totalM) æ€»å…±å¤§å°M, SUM(usedM) å·²ä½¿ç”¨ç©ºé—´M, SUM(remainedM) å‰©ä½™ç©ºé—´M, SUM(usedM) / SUM(totalM) * 100 å·²ä½¿ç”¨ç™¾åˆ†æ¯”, SUM(remainedM) / SUM(totalM) * 100 å‰©ä½™ç™¾åˆ†æ¯” FROM ( SELECT tb.file_id ID, tb.tablespace_name tbs, tb.file_name NAME, tb.bytes / 1024 / 1024 totalM, (tb.bytes - SUM(NVL(ta.bytes, 0))) / 1024 / 1024 usedM, SUM(NVL(ta.bytes, 0) / 1024 / 1024) remainedM, SUM(NVL(ta.bytes, 0) /(tb.bytes) * 100), (100 - (SUM(NVL(ta.bytes, 0)) /(tb.bytes) * 100)) FROM dba_free_space ta, dba_data_files tb WHERE ta.file_id = tb.file_id GROUP BY tb.tablespace_name, tb.file_name, tb.file_id, tb.bytes ORDER BY tb.tablespace_name ) GROUP BY tbs;  00. å…¶å®ƒå¤‡å¿˜ 01) sqlè¯­å¥å’Œsqlå‘½ä»¤è™½ç„¶å¤§å°å†™éƒ½å¯ä»¥, ä½†æ˜¯å»ºè®®å¤§å†™, å¤§å†™æ‰§è¡Œé€Ÿåº¦å¿«, åŒæ—¶æœ‰äº›å‘½ä»¤åªèƒ½å¤§å†™!\n02) sqlè¯­å¥å’Œsqlå‘½ä»¤å¿…é¡»ç”¨åˆ†å·ç»“å°¾, cmdä¸­çš„å‘½ä»¤ä¸ç”¨åˆ†å·!\n03) sqlplus ç™»å½•å¯†ç åŒºåˆ†å¤§å°å†™ 04) æŸ¥è¯¢ DIRECTORY æ“ä½œéœ€è¦çš„æƒé™\nSELECT DISTINCT PRIVILEGE FROM DBA_SYS_PRIVS WHERE PRIVILEGE LIKE '%DIRECTORY%';  05) æŸ¥è¯¢å½“å‰è®¾å®šçš„ç›®å½•é…ç½®\nSELECT * FROM DBA_DIRECTORIES;  06) èµ‹äºˆSCOTTç”¨æˆ·åˆ é™¤å’Œåˆ›å»ºç›®å½•é…ç½®çš„æƒé™\nGRANT DROP ANY DIRECTORY, CREATE ANY DIRECTORY TO SCOTT;  07) å›æ”¶SCOTTç”¨æˆ·åˆ é™¤å’Œåˆ›å»ºç›®å½•é…ç½®çš„æƒé™\nREVOKE DROP ANY DIRECTORY, CREATE ANY DIRECTORY FROM SCOTT;  08) åˆ›å»ºæŸä¸ªç›®å½•é…ç½®\nCREATE OR REPLACE DIRECTORY \u0026lt;dir_name\u0026gt; AS \u0026lt;dir_path\u0026gt;;  09) åˆ é™¤æŸä¸ªç›®å½•é…ç½®\nDROP DIRECTORY \u0026lt;dir_name\u0026gt;;  10) èµ‹äºˆå’Œå›æ”¶æŸä¸ªç›®å½•çš„è¯»å†™æƒé™:\nGRANT READ ON DIRECTORY \u0026lt;dir_name\u0026gt; TO SCOTT; GRANT WRITE ON DIRECTORY \u0026lt;dir_name\u0026gt; TO SCOTT; REVOKE READ ON DIRECTORY \u0026lt;dir_name\u0026gt; FROM SCOTT; REVOKE WRITE ON DIRECTORY \u0026lt;dir_name\u0026gt; FROM SCOTT;  11) æŸ¥è¯¢å½“å‰schmaä¸‹çš„æ‰€æœ‰è¡¨: SELECT T.* FROM USER_TABLES T;\n12) æŸ¥å‡ºæ‰€æœ‰è¡¨å’Œå¯¹åº”schmaä»¥åŠè¡¨çš„å­—æ®µ\nSELECT DISTINCT DCC.OWNER AS \u0026quot;ç”¨æˆ·\u0026quot;, DCC.TABLE_NAME AS \u0026quot;è¡¨å\u0026quot;, DCC.COLUMN_NAME AS \u0026quot;å­—æ®µå\u0026quot;, DTC.DATA_TYPE AS \u0026quot;æ•°æ®ç±»å‹\u0026quot;, DCC.COMMENTS AS \u0026quot;å­—æ®µæè¿°\u0026quot;, (CASE WHEN CONSTS.COLUMN_NAME IS NOT NULL THEN 'æ˜¯' ELSE '' END) AS \u0026quot;æ˜¯å¦ä¸»é”®\u0026quot; FROM DBA_TAB_COLS DTC LEFT JOIN DBA_COL_COMMENTS DCC ON (DTC.COLUMN_NAME = DCC.COLUMN_NAME AND DTC.TABLE_NAME = DCC.TABLE_NAME AND DTC.OWNER = DCC.OWNER) LEFT JOIN DBA_TAB_COMMENTS UTC ON (DTC. OWNER = UTC. OWNER AND DTC.TABLE_NAME = UTC.TABLE_NAME) LEFT JOIN (SELECT CU.* FROM DBA_CONS_COLUMNS CU, DBA_CONSTRAINTS AU WHERE CU.CONSTRAINT_NAME = AU.CONSTRAINT_NAME AND AU.CONSTRAINT_TYPE = 'P' ) CONSTS ON (DTC.OWNER = CONSTS.OWNER AND DTC.TABLE_NAME = CONSTS.TABLE_NAME AND DTC.COLUMN_NAME = CONSTS.COLUMN_NAME) WHERE DTC.OWNER IN ('BOMMGMT', 'CFGMGMT', 'CHGMGMT', 'CORE', 'CUST', 'MSTDATA', 'INTEGRATION') ORDER BY DCC.OWNER, DCC.TABLE_NAME;  13) æ•°æ®åº“æ­»é”æŸ¥è¯¢\nselect s.username,l.object_id, l.session_id,s.serial#, s.lockwait,s.status,s.machine,s.program from v$session s,v$locked_object l where s.sid = l.session_id; select sql_text from v$sql where hash_value in (select sql_hash_value from v$session where sid in (select session_id from v$locked_object)); select distinct 'alter system kill session ''' ||sid||','||serial#||''''||';' as \u0026quot;kill sql\u0026quot; from V$locked_object t1 left join V$session t2 on t1.session_id = t2.sid;  14) çº¦æŸæŸ¥è¯¢: SELECT UC.TABLE_NAME, UC.CONSTRAINT_NAME, UC.* FROM USER_CONSTRAINTS UC;\n15) æŸ¥è¯¢æ‰€æœ‰åˆ—å: SELECT * FROM ALL_TAB_COLS WHERE TABLE_NAME = \u0026lsquo;XXX\u0026rsquo;;\n16) æŸ¥æ‰¾alertæ—¥å¿—, éœ€è¦é€šè¿‡ sqlplus / as sysdba ç™»é™†, ç„¶åè¾“å…¥: show parameter dump;\né™„ä»¶ oracleè®°å½•txtç‰ˆæœ¬\n"
    }
,
    {
        "ref": "https://dengxiujun.github.io/blog/after_copy_vm_do/",
        "title": "VMwareè™šæ‹Ÿæœºè½¬VitrualBOXè™šæ‹Ÿæœºç­‰åç»­ä¼˜åŒ–æ“ä½œ",
        "section": "blog",
        "date" : "2019.04.01",
        "body": " 01.Â VMwareè™šæ‹Ÿæœºè½¬VitrualBoxè™šæ‹Ÿæœº 01)Â æ‰“å¼€cmdï¼Œå¹¶åˆ‡æ¢åˆ°VMwareçš„å®‰è£…ç›®å½•ä¸‹çš„OVFToolç›®å½•\nd: # ç›˜ç¬¦åˆ‡æ¢ cd D:\\VMware\\VMware Workstation\\OVFTool  02)Â ä½¿ç”¨ ovftool å‘½ä»¤è½¬æ¢æ ¼å¼\novftool \u0026quot;D:\\Virtual Machines\\prd_170_vm\\prd_170.vmx\u0026quot; \u0026quot;D:\\VirtualMachines\\prd_170_vb\\prd_170.ovf\u0026quot;  æ³¨ï¼šéœ€è¦Â D:\\VirtualMachines\\prd_170_vm\\prd_170.vmx è¯¥è™šæ‹Ÿæœºå¤„äºå…³æœºçŠ¶æ€\n03)Â æ‰“å¼€VitrualBOXä¸»ç•Œé¢ï¼Œä¾æ¬¡æ‰“å¼€\u0026rdquo;ç®¡ç†\u0026rdquo;\u0026gt;\u0026gt;\u0026ldquo;å¯¼å…¥è™šæ‹Ÿç”µè„‘\u0026rdquo;ï¼Œåœ¨å¼¹å‡ºç•Œé¢ä¸­é€‰æ‹© D:\\VirtualMachines\\prd_170_vb\\prd_170.ovf\n04)Â å¤„ç†ç½‘å¡é…ç½®ç­‰ï¼Œå¦‚æœæœ‰å®‰è£…\u0026rdquo;VMå¢å¼ºæ’ä»¶\u0026rdquo;ï¼Œå¯ä»¥åˆ é™¤ä¹‹åå®‰è£…\u0026rdquo;VitrualBoxå¢å¼ºæ’ä»¶\u0026rdquo;\n02. VMwareç£ç›˜æ ¼å¼vmdkè½¬VirtualBoxç£ç›˜æ ¼å¼vdi 01)Â æ‰“å¼€cmdï¼Œå¹¶åˆ‡æ¢åˆ°VitrualBoxå®‰è£…ç›®å½•\nd: # ç›˜ç¬¦åˆ‡æ¢ cd D:\\VirtualBox  02) ä½¿ç”¨Â VBoxManage.exe clonehd å‘½ä»¤å…‹éš†å¹¶æ ¼å¼åŒ–ç£ç›˜æ ¼å¼\nVBoxManage.exe clonehd \u0026quot;D:\\Virtual Machines\\prd_6.170_vb\\prd_6.170.vmdk\u0026quot; \u0026quot;D:\\Virtual Machines\\prd_6.170_vb\\prd_6.170.vdi\u0026quot; --format VDI  03) ä¸Šè¿°å‘½ä»¤æ‰§è¡Œåˆ°90%çš„æ—¶é—´ç‚¹ä¼šæŠ¥é”™è¯¯ï¼Œé”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼ŒåŸå› æ˜¯å…‹éš†çš„ç£ç›˜å’ŒåŸç£ç›˜uuidé‡å¤ï¼Œæ­¤æ—¶å¯ä»¥ä¿®æ”¹åŸç£ç›˜å’Œæ–°ç£ç›˜å…¶ä¸­ä¸€ä¸ªçš„uuidï¼Œä½¿ç”¨å‘½ä»¤å¦‚ä¸‹\nProgress state: E_INVALIDARG VBoxManage.exe: error: Failed to clone medium VBoxManage.exe: error: Cannot register the hard disk 'D:\\Virtual Machines\\prd_6.170_vb\\prd_6.170.vdi' {4cb06e65-d214-4361-b9c6-b5faf1f5effa} because a hard disk 'D:\\Virtual Machines\\prd_6.170_vb\\prd_6.170.vdi' with UUID {0160913f-6e83-4cd6-97b7-c9e24d9cd26d} already exists VBoxManage.exe: error: Details: code E_INVALIDARG (0x80070057), component VirtualBoxWrap, interface IVirtualBox VBoxManage.exe: error: Context: \u0026quot;enum RTEXITCODE __cdecl handleCloneMedium(struct HandlerArg *)\u0026quot; at line 954 of file VBoxManageDisk.cpp VBoxManage.exe internalcommands sethduuid \u0026quot;D:\\Virtual Machines\\prd_6.170_vb\\prd_6.170.vdi\u0026quot;  04) æ‰“å¼€VirtualBoxä¸»ç•Œé¢ï¼Œä¾æ¬¡é€‰æ‹©\u0026rdquo;ç®¡ç†\u0026rdquo;\u0026gt;\u0026gt;\u0026ldquo;è™šæ‹Ÿä»‹è´¨ç®¡ç†\u0026rdquo;ï¼Œåœ¨å¼¹å‡ºç•Œé¢ä¸­é€‰ä¸­åŸæ¥çš„vmdkç£ç›˜å¹¶ä½¿ç”¨å³é”®é‡Šæ”¾å’Œåˆ é™¤è¯¥vmdkä»‹è´¨ 05) æ‰“å¼€è½¬æ¢åçš„è™šæ‹Ÿæœºçš„è®¾ç½®ç•Œé¢ï¼Œ\u0026rdquo;å­˜å‚¨\u0026rdquo;\u0026gt;\u0026gt;\u0026ldquo;æ§åˆ¶å™¨\u0026rdquo;\u0026gt;\u0026gt;\u0026ldquo;æ·»åŠ è™šæ‹Ÿç¡¬ç›˜\u0026rdquo;ï¼Œç„¶ååœ¨å¼¹å‡ºç•Œé¢ä¸­é€‰æ‹©è½¬æ¢åçš„dviç£ç›˜ 03.Â ç£ç›˜æ‰©å®¹ æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨\u0026rdquo;VBoxManage modifyhd\u0026rdquo;å‘½ä»¤\næ‰“å¼€cmdï¼Œå¹¶åˆ‡æ¢åˆ°VitrualBoxå®‰è£…ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤\nVBoxManage modifyhd \u0026ldquo;D:\\Virtual Machines\\prd_6.170\\prd_6.170.vdi\u0026rdquo; â€“-resize 102400\næ³¨ï¼šè¯¥å‘½ä»¤åªæ”¯æŒvdiæ ¼å¼çš„ç£ç›˜\næ–¹æ¡ˆäºŒï¼šé’ˆå¯¹ä¸åŒæ“ä½œç³»ç»Ÿé‡‡ç”¨æ–°å¢ç£ç›˜æŒ‚è½½æ–¹å¼\nlinuxå‚è€ƒ http://www.linuxidc.com/Linux/2011-02/32083.htm\nwindowsè¯·è‡ªè¡Œç™¾åº¦\n"
    }
,
    {
        "ref": "https://dengxiujun.github.io/blog/hadoop_cluster_build/",
        "title": "HADOOP(3.0.0)åœ¨CENTOS7(RED HAT 7)ä¸‹å®Œå…¨åˆ†å¸ƒå¼ç¯å¢ƒæ­å»º",
        "section": "blog",
        "date" : "2019.03.29",
        "body": " ä¸€ã€ç¯å¢ƒç®€ä»‹ æœ¬æ•™ç¨‹æœåŠ¡å™¨ä¸»æœºéƒ½æ˜¯CentOSÂ 7(Red Hat 7 äº¦å¯)ï¼Œé›†ç¾¤ç»“ç‚¹åˆ†å¸ƒæƒ…å†µå¦‚ä¸‹è¡¨ï¼š\n+---------------+-----------+---------------------------------- |IP |HOSTNAME |å¤‡æ³¨ +---------------+-----------+---------------------------------- |192.168.6.171 |hdpmmaster |ResourceManager è¿›ç¨‹æ‰€åœ¨æœºå™¨ +---------------+-----------+---------------------------------- |192.168.6.172 |hdpsmaster |SecondaryNameNode ä¸»æœºçš„å¤‡æœº +---------------+-----------+---------------------------------- |198.168.6.67 |hdpslave67 |datanode +---------------+-----------+---------------------------------- |198.168.6.68 |hdpslave68 |datanode +---------------+-----------+---------------------------------- |198.168.6.69 |hdpslave68 |datanode +---------------+-----------+----------------------------------  äºŒã€Linux ç¯å¢ƒå‡†å¤‡ 01. åˆ›å»ºhadoopç”¨æˆ· 01) æ–°å»ºç”¨æˆ·: adduser hadoop(æ³¨: åœ¨åˆ›å»ºhadoopç”¨æˆ·çš„åŒæ—¶ä¹Ÿåˆ›å»ºäº†hadoopç”¨æˆ·ç»„) 02) ç»™hadoopç”¨æˆ·æ·»åŠ ç™»å½•å¯†ç : passwd hadoop 03) æŠŠhadoopç”¨æˆ·åŠ å…¥åˆ°hadoopç”¨æˆ·ç»„: usermod -a -G hadoop hadoop 03) èµ‹äºˆç”¨æˆ·rootæƒé™, å‘/etc/sudoersä¸­æ·»åŠ \u0026rdquo;hadoop ALL=(ALL) ALL\u0026rdquo;ï¼Œå¦‚æœæ²¡æœ‰å†™çš„æƒé™éœ€è¦å…ˆæ‰§è¡Œ chmod +w /etc/sudoers æ³¨ï¼šä»¥ä¸Šæ‰€æœ‰æ“ä½œéƒ½æ˜¯åœ¨rootç”¨æˆ·ä¸‹å®Œæˆï¼Œérootç”¨æˆ·å¯ä»¥åœ¨æ‰€æœ‰å‘½ä»¤å‰åŠ sudo\n02. HOSTNAME å¤„ç† 01) ä¿®æ”¹æœåŠ¡å™¨çš„ hostnameï¼Œä½¿ç”¨å‘½ä»¤ hostnamectl set-hostname \n+---------------+---------------------------------------------- +IP +command +---------------+---------------------------------------------- |192.168.6.171 |hostnamectl set-hostname hdpmmaster +---------------+---------------------------------------------- |192.168.6.172 |hostnamectl set-hostname hdpsmaster +---------------+---------------------------------------------- |192.168.6.67 |hostnamectl set-hostname hdpslave67 +---------------+---------------------------------------------- |192.168.6.68 |hostnamectl set-hostname hdpslave68 +---------------+---------------------------------------------- |192.168.6.69 |hostnamectl set-hostname hdpslave69 +---------------+----------------------------------------------  02) å‘/etc/hostsæ–‡ä»¶ä¸­æ·»åŠ åŸŸåå’ŒIPçš„æ˜ å°„ï¼Œå†…å®¹å¦‚ä¸‹\n192.168.6.171 hdpmmaster 192.168.6.172 hdpsmaster 192.168.6.67 hdpslave67 192.168.6.68 hdpslave68 192.168.6.69 hdpslave69  æ³¨ï¼šä»¥ä¸Šæ‰€æœ‰æ“ä½œéƒ½æ˜¯åœ¨rootç”¨æˆ·ä¸‹å®Œæˆï¼Œérootç”¨æˆ·å¯ä»¥åœ¨æ‰€æœ‰å‘½ä»¤å‰åŠ sudo\n03. sshå…å¯†ç ç™»å½• 01)Â sshå®‰è£…ï¼Œä½¿ç”¨å‘½ä»¤ sudo yum isntall -y openssd\n02)Â ssh dsaç®—æ³•å¯†é’¥å¯¹ç”Ÿæˆï¼Œåˆ†åˆ«åœ¨5å°æœºå™¨æ‰§è¡Œä»¥ä¸‹3æ¡å‘½ä»¤\nssh-keygen -t dsa -P '' -f ~/.ssh/id_dsa cat ~/.ssh/id_dsa.pub \u0026gt;\u0026gt; ~/.ssh/authorized_keys chmod 600 ~/.ssh/authorized_keys  03)Â å¤åˆ¶å…¬é’¥åˆ°é›†ç¾¤æœåŠ¡å™¨ï¼Œä½¿ç”¨å‘½ä»¤ ssh-copy-id @, ç¤ºä¾‹ï¼šå¤åˆ¶ hdpslave67(192.168.6.67) çš„å…¬é’¥åˆ° hdpslave68(192.168.6.68)\næ³¨ï¼šå¯ä»¥æ‰§è¡Œ ssh hadoop@hdpslave68 å‘½ä»¤çœ‹æ˜¯å¦éœ€è¦è¾“å…¥ç™»å½•å¯†ç æ¥ç¡®è®¤æ˜¯å¦é™ˆåŠŸï¼ŒåŒæ—¶é¿å…ä»¥åæ£€æŸ¥å‡ºä»€ä¹ˆé—®é¢˜æœ€å¥½ä¿è¯é›†ç¾¤ä¸­çš„æœåŠ¡å™¨èƒ½å¤Ÿä¸¤ä¸¤æ— å¯†ç ç™»å½•ã€‚\n04. JDK å®‰è£… 01) ä¸‹è½½ jdk çš„ rpm å®‰è£…æ–‡ä»¶\n02) ä½¿ç”¨å‘½ä»¤ sudo rpm -ivh jdk-8u144-linux-x64.rpm å®‰è£…\n03) JDK ç¯å¢ƒå˜é‡é…ç½®ï¼šsudo vi /etc/profile\nexport JAVA_HOME=/usr/java/jdk1.8.0_144 export JRE_HOME=${JAVA_HOME}/jre export CLASSPATH=$CLASSPATH:.:${JAVA_HOME}/lib:${JAVA_HOME}/jre/lib export PATH=${JAVA_HOME}/bin:${JAVA_HOME}/jre/bin:$PATH  æ³¨ï¼šjdkçš„ç¯å¢ƒå˜é‡é…ç½®ä¹Ÿå¯å†™å…¥Â hadoop ç”¨æˆ·ç›®å½•ä¸‹çš„ .bashrc æ–‡ä»¶ï¼Œæˆ–è€… .bash_profile æ–‡ä»¶\n05. å…³é—­æ‰€æœ‰æœåŠ¡å™¨çš„é˜²ç«å¢™ sudo systemctl stop firewalld #åœæ­¢é˜²ç«å¢™æœåŠ¡\nsudo systemctl disable firewalld #ç¦ç”¨é˜²ç«å¢™æœåŠ¡å¼€æœºå¯åŠ¨\nä¸‰ã€HAOOP å®‰è£…ä»¥åŠé…ç½® 01) ä¸‹è½½å¹¶å®‰è£…Â hadoop (ç‰ˆæœ¬ï¼š3.0.0)\nwget http://mirrors.shuosc.org/apache/hadoop/common/hadoop-3.0.0/hadoop-3.0.0.tar.gz tar -xzf hadoop-3.0.0.tar.gz -C /usr/local/ cd /usr/local/ ln -s hadoop-3.0.0/ hadoop #å»ºç«‹è½¯é“¾æ¥, ä¹Ÿå¯ç›´æ¥ä½¿ç”¨ mv hadoop-3.0.0 hadoop å‘½ä»¤æ”¹å  02) é…ç½® hadoop ç¯å¢ƒå˜é‡ï¼Œå‘ /home/hadoop/.bashrc æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å†…å®¹\n# HADOOP export HADOOP_HOME=/usr/local/hadoop export PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop export HADOOP_INSTALL=$HADOOP_HOME export HADOOP_MAPRED_HOME=$HADOOP_HOME export HADOOP_COMMON_HOME=$HADOOP_HOME export HADOOP_HDFS_HOME=$HADOOP_HOME export HADOOP_YARN_HOME=$HADOOP_HOME export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native  03) é…ç½® hadoop å®‰è£…ç›®å½•(/usr/local/hadoop)ä¸‹çš„ etc/hadoop/core-site.xml\n\u0026lt;configuration\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;fs.defaultFS\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdfs://hdpmmaster:9000\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;hadoop.tmp.dir\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;file:///usr/local/hadoop/hdptmp\u0026lt;/value\u0026gt; \u0026lt;description\u0026gt;Abase for other temporary directories.\u0026lt;/description\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/configuration\u0026gt; 04) é…ç½® hadoop å®‰è£…ç›®å½•(/usr/local/hadoop)ä¸‹çš„ etc/hadoop/hdfs-site.xml \u0026lt;configuration\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;dfs.replication\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;1\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;dfs.namenode.name.dir\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;file:///usr/local/hadoop/hadoop_data/hdfs/namenode\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;dfs.datanode.data.dir\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;file:///usr/local/hadoop/hadoop_data/hdfs/datanode\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;dfs.namenode.secondary.http-address\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdpsmaster:9868\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/configuration\u0026gt; 05) é…ç½® hadoop å®‰è£…ç›®å½•(/usr/local/hadoop)ä¸‹çš„ etc/hadoop/mapred-site.xml \u0026lt;configuration\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;mapreduce.framework.name\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;yarn\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;mapreduce.jobhistory.address\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdpmmaster:10020\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;mapreduce.jobhistory.webapp.address\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdpmmaster:19888\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/configuration\u0026gt;  06) é…ç½® hadoop å®‰è£…ç›®å½•(/usr/local/hadoop)ä¸‹çš„ etc/hadoop/yarn-site.xml\n\u0026lt;configuration\u0026gt; \u0026lt;!-- Site specific YARN configuration properties --\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.nodemanager.aux-services\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;mapreduce_shuffle\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.nodemanager.env-whitelist\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.nodemanager.resource.cpu-vcores\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;2\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;!-- \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.nodemanager.resource.memory-mb\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;3072\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.scheduler.maximum-allocation-mb\u0026gt;\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;3052\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; --\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.resourcemanager.scheduler.address\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdpmmaster:8030\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.resourcemanager.resource-tracker.address\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdpmmaster:8031\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.resourcemanager.address\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdpmmaster:8032\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.resourcemanager.admin.address\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdpmmaster:8033\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.resourcemanager.webapp.address\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdpmmaster:8088\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.nodemanager.vmem-check-enabled\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;false\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/configuration\u0026gt;  07) é…ç½® hadoop å®‰è£…ç›®å½•(/usr/local/hadoop)ä¸‹çš„ etc/hadoop/workers\nhdpsmaster hdpslave67 hdpslave68 hdpslave69  æ³¨ï¼šè¯¥ workers æ–‡ä»¶ä¹Ÿå¯ä»¥é…ç½®ä¸ºipï¼Œå¦‚ä¸‹\n192.168.6.171 192.168.6.67 192.168.6.68 192.168.6.69  08) é…ç½® hadoop å®‰è£…ç›®å½•(/usr/local/hadoop)ä¸‹çš„ etc/hadoop/hadoop-env.sh\nexport JAVA_HOME=/usr/java/latest #å»æ‰å‰é¢çš„\u0026rsquo;#\u0026lsquo;, ä¸”å†™å…¥jdkçš„å®‰è£…è·¯å¾„, è¿™é‡Œçš„å†™æ³•ç”¨latestæ˜¯ä¸ºäº†ä»¥åjdkå‡çº§ä¸ç”¨ä¿®æ”¹è¯¥é…ç½®, å½“ç„¶ä¹Ÿå¯ä»¥å†™jdkå®‰è£…çš„ç»å¯¹è·¯å¾„, å³\u0026rdquo;/usr/java1.8.0_144\u0026rdquo;\n09) æ ¼å¼åŒ–namenode\nhdfs namenode -format\næ³¨ï¼šæ ¼å¼åŒ–ä¹‹å‰éœ€è¦å°†å‰©ä½™çš„ä¸»æœºéƒ½å¦‚æ­¤é…ç½®hadoopï¼Œæœ€ç®€å•çš„åšæ³•å°±æ˜¯é…ç½®å¥½ä¸€å°ï¼Œç„¶åç›´æ¥å¤åˆ¶åˆ°å‰©ä½™çš„ä¸»æœºæœåŠ¡å™¨ä¸Šã€‚åŒæ—¶åç»­å¯èƒ½éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶æ¯æ¬¡éƒ½éœ€è¦åŒæ­¥é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å†™ä¸ªç®€å•çš„åŒæ­¥è„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹ã€‚\n# åç§°: scphdp.sh # è·¯å¾„: /usr/local/hadoop # å¤‡æ³¨: 01. éœ€è¦æ·»åŠ æ‰§è¡Œæƒé™, chmod +x /usr/local/hadoop/scphdp.sh # 02. æ³¨æ„ä¿®æ”¹é›†ç¾¤çš„ip echo \u0026quot;==========6.67 begin==========\u0026quot; scp -r etc/hadoop hadoop@192.168.6.67:/usr/local/hadoop/etc echo \u0026quot;===========6.67 end===========\u0026quot; echo \u0026quot;==========6.68 begin==========\u0026quot; scp -r etc/hadoop hadoop@192.168.6.68:/usr/local/hadoop/etc echo \u0026quot;===========6.68 end===========\u0026quot; echo \u0026quot;==========6.69 begin==========\u0026quot; scp -r etc/hadoop hadoop@192.168.6.69:/usr/local/hadoop/etc echo \u0026quot;===========6.69 end===========\u0026quot; #echo \u0026quot;==========6.172 begin==========\u0026quot; #scp -r etc/hadoop hadoop@192.168.6.172:/usr/local/hadoop/etc #echo \u0026quot;===========6.172 end===========\u0026quot;  10) å¯åŠ¨é›†ç¾¤\nstart-all.sh  æ³¨ï¼šå¯åŠ¨ä¹‹åé€šè¿‡ jps å‘½ä»¤æŸ¥çœ‹javaåå°è¿›ç¨‹ï¼Œå„ä¸ªç»“ç‚¹çš„javaè¿›ç¨‹ä¿¡æ¯å¦‚ä¸‹\n+---------------+-----------+-------------------------------------------------- |IP |HOSTNAME |javaè¿›ç¨‹ +---------------+-----------+-------------------------------------------------- |192.168.6.171 |hdpmmaster |ResourceManager, NameNode, Jps +---------------+-----------+-------------------------------------------------- |192.168.6.172 |hdpsmaster |Jps, SecondaryNameNode, NodeManager, DataNode +---------------+-----------+-------------------------------------------------- |198.168.6.67 |hdpslave67 |NodeManager, Jps, DataNode +---------------+-----------+-------------------------------------------------- |198.168.6.68 |hdpslave68 |NodeManager, Jps, DataNode +---------------+-----------+-------------------------------------------------- |198.168.6.69 |hdpslave68 |NodeManager, Jps, DataNode +---------------+-----------+--------------------------------------------------  11) åœ¨æœ‰å›¾å½¢ç•Œé¢çš„pcä¸Šè®¿é—®ä¸‹é¢ä¸¤ä¸ªåœ°å€é“¾æ¥ï¼ŒæŸ¥çœ‹ç›¸å…³ä¿¡æ¯\nhttp://hdpmmaster:8088/ #NameNodeå›¾å½¢ç•Œé¢, ä»»åŠ¡åˆ†é…å’Œä»»åŠ¡è¿›åº¦ä¿¡æ¯çš„æŸ¥è¯¢ http://hdpmmaster:9870/ #é›†ç¾¤ç»“ç‚¹(Node Of Cluster)å›¾å½¢ç•Œé¢\næ³¨ï¼šä»¥åŸŸåè®¿é—®éœ€è¦å‘è¯¥pcçš„hostsæ–‡ä»¶ä¸­åŠ å…¥ \u0026ldquo;192.168.6.171Â hdpmmaster\u0026rdquo;ï¼ŒWindows æ“ä½œç³»ç»Ÿçš„hostsæ–‡ä»¶è·¯å¾„åœ¨ \u0026ldquo;C:\\Windows\\System32\\drivers\\etc\\hosts\u0026rdquo;ï¼ŒCentOSæ“ä½œç³»ç»Ÿçš„hostsæ–‡ä»¶è·¯å¾„åœ¨ \u0026ldquo;/etc/hosts\u0026rdquo;ã€‚\n12) å•è¯ç»Ÿè®¡ç¤ºä¾‹è¿è¡Œ\nhadoop fs -mkdir /input hadoop fs -chmod -R 775 /input hadoop fs -put /usr/local/hadoop/LICENSE.txt /input hadoop jar /usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.0.0.jar wordcount /input /output  æ³¨:\n\u0026emsp;\u0026emsp;01. æ¯æ¬¡æ‰§è¡Œä¸Šé¢çš„ hadoop jar å‘½ä»¤ï¼Œéœ€è¦ç¡®è®¤é›†ç¾¤ç»“ç‚¹ä¸Šçš„ /output ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨å‘½ä»¤ \u0026ldquo;hadoop fs -rmr -fÂ /output\u0026rdquo;åˆ é™¤è¯¥ç›®å½•\n\u0026emsp;\u0026emsp;02.Â æ‰§è¡ŒæˆåŠŸä¹‹åå¯ä»¥åœ¨Â http://hdpmmaster:9870/explorer.html ä¸­çš„\u0026rdquo;/output\u0026rdquo;æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°è¾“å‡ºç»“æœï¼Œå…è®¸ä¸‹è½½å’Œé¢„è§ˆè¯¥ç»“æœæ–‡ä»¶\n13) åœæ­¢é›†ç¾¤\nstop-all.sh\n14) ä»»åŠ¡å†å²æœåŠ¡å¯åŠ¨ä¸å…³é—­ï¼Œwebè®¿é—®åœ°å€æ˜¯Â http://hdpmmaster:19888/jobhistory/ ç«¯å£æ˜¯åœ¨mapred-site.xmlä¸­é…ç½®çš„\nmapred \u0026ndash;daemon start historyserver #å¯åŠ¨\nmapred \u0026ndash;daemon stop historyserver #å…³é—­\nå››ã€FAQ 01. ç‰©ç†å†…å­˜æˆ–è™šæ‹Ÿå†…å­˜ç›‘æµ‹æº¢å‡º é—®é¢˜æè¿°: æ‰§è¡Œä»»åŠ¡çš„æ—¶è™šæ‹Ÿå†…å­˜æº¢å‡º\næŠ¥é”™ä¿¡æ¯: Container [pid=5623,containerID=container_1514514155753_0001_01_000002] is running beyond virtual memory limits. Current usage: 155.1 MB of 1 GB physical memory used; 2.4 GB of 2.1 GB virtual memory used. Killing container.\nè§£å†³æ–¹æ¡ˆ:\n\u0026emsp;\u0026emsp;æ–¹æ¡ˆä¸€: å…³é—­è™šæ‹Ÿå†…å­˜ç›‘æµ‹, åœ¨yarn-site.xmlæ–‡ä»¶ä¸­æ·»åŠ \u0026rdquo;yarn.nodemanager.vmem-check-enabled\u0026rdquo;é…ç½®, å€¼ä¸º\u0026rdquo;false\u0026rdquo;(è¯¥æ–¹æ¡ˆä¸å»ºè®®åœ¨æ­£å¼ç¯å¢ƒä¸­ä½¿ç”¨)\n\u0026emsp;\u0026emsp;æ–¹æ¡ˆäºŒ: æé«˜å†…å­˜é…ç½®, å‚è€ƒ http://blog.chinaunix.net/uid-25691489-id-5587957.html\n02. datanodeå’Œnamenodeéƒ½å¯åŠ¨æˆåŠŸï¼Œä½†datanodeæ²¡æœ‰ä¸namenodeå…³è”æˆåŠŸ é—®é¢˜æè¿°: é›†ç¾¤å¯åŠ¨æ­£å¸¸, ä½¿ç”¨jpsæŸ¥çœ‹å„ä¸ªç»“ç‚¹çš„javaè¿›ç¨‹ä¹Ÿæ˜¯å¯¹çš„, ä½†æ˜¯æ— æ³•æ‰“å¼€http://hdpmmaster:8088, è™½ç„¶http://hdpmmaster:9870èƒ½è®¿é—®, ä½†æ˜¯æŸ¥çœ‹ DataNode é¡µé¢æ²¡æœ‰çœ‹åˆ°ä»»ä½•ä¸€ä¸ªç»“ç‚¹ã€‚\næŠ¥é”™ä¿¡æ¯: æŸ¥çœ‹ä»»ä½•ä¸€ä¸ª DataNode ç»“ç‚¹çš„æ—¥å¿—æ–‡ä»¶(HADOOP_HOME/logs/hadoop-hadoop-datanode-hdpsmaster.log)å«æœ‰: Retrying connect to server: hdpmmaster/192.168.6.171:9000. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=10, sleepTime=1000 MILLISECONDS)\nè§£å†³æ–¹æ¡ˆ: æŸ¥çœ‹ hdpmmaster/192.168.6.171 ä¸»æœºçš„hostsæ–‡ä»¶ä¸­æ˜¯å¦æœ‰\u0026rdquo;127.0.0.1 hdpmmaster\u0026rdquo;, åˆ é™¤è¯¥è¡Œ, é‡æ–°æ ¼å¼åŒ–é›†ç¾¤(hdfs namenode -format).\né—®é¢˜åŸå› : å› ä¸ºå°†hdpmmasteræ˜ å°„åœ¨äº†localhost, æ‰€ä»¥DataNodeç»“ç‚¹æ— æ³•è®¿é—®åˆ°è¯¥NameNode, åŒæ—¶ä¹Ÿæ— æ³•æ‰“å¼€http://hdpmmaster:8088. å¯ä»¥é€šè¿‡æŸ¥çœ‹æ ¼å¼åŒ–é›†ç¾¤ç»“ç‚¹æ—¶æœ€åçš„æç¤ºä¿¡æ¯æ¥åˆ¤å®šæ˜¯å¦æœ‰å‡ºç°è¯¥é—®é¢˜. å¦‚æœæ˜¯\u0026rdquo;SHUTDOWN_MSG: Shutting down NameNode at localhost/127.0.0.1\u0026rdquo;, è¡¨ç¤ºæ˜ å°„é”™è¯¯; å¦‚æœæ˜¯\u0026rdquo;SHUTDOWN_MSG: Shutting down NameNode at hdpmmaster/192.168.6.171\u0026rdquo;, è¡¨ç¤ºæ˜ å°„æ˜¯æ­£ç¡®çš„. å½“ç„¶è¿™ä¸€åˆ‡éƒ½è¦åœ¨æ‰€æœ‰é›†ç¾¤ä¸»æœºèƒ½å¤Ÿäº’ç›¸pingé€šçš„å‰æä¸‹, å³éœ€è¦çš„æ‰€æœ‰ç«¯å£éƒ½å¼€æ”¾, æˆ–è€…ç›´æ¥å…³é—­é˜²ç«å¢™, è¯¥æ•™ç¨‹ä¸ºç®€æ´å°±æ˜¯ç›´æ¥å…³é—­é›†ç¾¤æ‰€æœ‰ä¸»æœºçš„é˜²ç«å¢™.\n03. unhealthyçŠ¶æ€çš„datanodeå¤„ç†(ä¸‹é¢åªæ˜¯è¯¥ç°è±¡å…¶ä¸­ä¸€ç§åŸå› ) é—®é¢˜æè¿°: åœ¨http://hdpmmaster:8088/cluster/nodes çš„ç•Œé¢å‡ºç°unhealthyç»“ç‚¹\næŠ¥é”™ä¿¡æ¯: yarn.server.nodemanager.DirectoryCollection: Directory /var/lib/hadoop-yarn/cache/yarn/nm-local-dir error, used space above threshold of 90.0%, removing from list of valid directories\nè§£å†³æ–¹æ¡ˆ: åŠ å¤§ç£ç›˜å®¹é‡, æˆ–è€…æ¸…ç†ç£ç›˜ç©ºé—´, å½“ç„¶ä¹Ÿå¯ä»¥æé«˜yarnçš„ç›‘æµ‹æ•°å€¼, å³åœ¨yarn-site.xmlä¸­æ·»åŠ \u0026rdquo;yarn.nodemanager.disk-health-checker.max-disk-utilization-per-disk-percentage\u0026rdquo;é…ç½®, å€¼æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”æ•°å€¼, ä¾‹å¦‚ã€\u0026rdquo;95.0\u0026rdquo;\né—®é¢˜åŸå› : è¯¥ç»“ç‚¹ä¸»æœºçš„ç£ç›˜ä½¿ç”¨è¶…è¿‡90%,\n"
    }
,
    {
        "ref": "https://dengxiujun.github.io/blog/devops_introduction/",
        "title": "DevOps ç®€ä»‹",
        "section": "blog",
        "date" : "2019.03.29",
        "body": " ç›®æ ‡  æ‰“é€ \u001bé€šç”¨, \u001bç¨³å®š, å¿«é€Ÿ, æ˜“äºæ‰©å±•çš„éƒ¨ç½²æµæ°´çº¿  éƒ¨ç½²æµæ°´çº¿æ˜¯æŒ‡è½¯ä»¶ä»ç‰ˆæœ¬æ§åˆ¶åº“åˆ°ç”¨æˆ·æ‰‹ä¸­è¿™ä¸€è¿‡ç¨‹çš„è‡ªåŠ¨åŒ–è¡¨ç°å½¢å¼ã€‚å¯¹è½¯ä»¶çš„æ¯æ¬¡å˜æ›´éƒ½ä¼šç»å†è¿™æ ·ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„è¿‡ç¨‹ éƒ¨ç½²æµæ°´çº¿åŒ…å«\u001b\u001bä»£ç æ£€æŸ¥, æŒç»­é›†æˆ, æŒç»­\u0008\u001béƒ¨ç½², è‡ªåŠ¨åŒ–æµ‹è¯•ç­‰å„ä¸ªç¯èŠ‚  æ„å»ºè‡ªåŠ©å¹³å°  \u0008å„é¡¹ç›®ç»„\u001bå¯ä¸€é”®åˆ›å»ºæµ‹è¯•æ‰€ä»¥éœ€è¦çš„å®¹å™¨åŒ–Javaç¯å¢ƒ, æ•°æ®åº“ç­‰. å¹¶å¯é€šè¿‡è‡ªåŠ©å¹³å°è¿›è¡Œç®¡ç† é€šè¿‡è‡ªåŠ©å¹³å°é…ç½®è‡ªåŠ¨æ„å»ºè¡Œä¸º é›†æˆæ—¥å¿—æŸ¥çœ‹åŠŸèƒ½   \u0008\u0008\u001bå‚è€ƒç¤ºä¾‹ é›¶ä»¶ä¿±ä¹éƒ¨é¡¹ç›®çš„éƒ¨ç½²æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º, å¼€å‘äººå‘˜æ— éœ€å…³å¿ƒéƒ¨ç½²çš„ç»†èŠ‚, åªéœ€è¦æ¨é€ä»£ç åˆ°å¯¹åº”çš„åˆ†æ”¯, å°±ä¼šè§¦å‘éƒ¨ç½²\u001b\u001bæµæ°´çº¿éƒ¨ç½²åˆ°ç›¸åº”çš„ç¯å¢ƒ.\n å¼€å‘äººå‘˜ä½¿ç”¨ç‰¹æ€§åˆ†æ”¯çš„gitåˆ†æ”¯æ¨¡å‹æ¥å¼€å‘æ–°åŠŸèƒ½, \u001b\u001bä»£ç éœ€è¦æ¨é€åˆ°GitLabä»“åº“ GitLabæ ¹æ®ä»£ç ä»“åº“ä¸­çš„gitlab-ci.yamlæ–‡ä»¶æ¥, è§¦å‘GitLab CIæ‰§è¡Œ ç¼–è¯‘-\u0026gt;æµ‹è¯•-\u0026gt;å‘å¸ƒé•œåƒ-\u0026gt;éƒ¨ç½² æµæ°´çº¿  \u0008\u0008ç‰¹å®šçš„å¤„ç†ç¯èŠ‚(æ¯”å¦‚å¤šä¸ªfeatureåˆ†æ”¯çš„è‡ªåŠ¨åˆå¹¶, ç‰ˆæœ¬å·çš„ç¡®å®š) é‡‡ç”¨Shellæˆ–è€…Pythonè„šæœ¬æ¥å®ç° Javaä»£ç çš„æ„å»ºä¼šç”¨åˆ°Gradle, jsä»£ç çš„æ„å»ºä¼šç”¨åˆ°npmæˆ–yarn æ‰§è¡Œå•å…ƒæµ‹è¯•, å¦‚æœæµ‹è¯•å¤±è´¥ä¼šç»ˆæ­¢æ„å»º, å¹¶ä½¿ç”¨é‚®ä»¶é€šçŸ¥ç»™æœ¬æ¬¡æ„å»ºçš„\u001bè§¦å‘è€… ç¼–è¯‘å®Œæˆä¹‹åä»ä»£ç ä»“åº“ä¸­è·å–Dockerfileæ–‡ä»¶, ç„¶åä½¿ç”¨Docker\u001båˆ¶ä½œæˆé•œåƒæ–‡ä»¶  å‘å¸ƒåˆ°Harbor, harboræ˜¯dockeré•œåƒçš„ä»“åº“,\u0008 åŸºäºå®˜æ–¹çš„\u0008Registry é€šè¿‡kubectlè§¦å‘Kubernetesæ‰§è¡Œå‘å¸ƒæµç¨‹ k8sæ‹‰å–æŒ‡å®šé•œåƒ, è¿›è¡Œæ»šåŠ¨å‡çº§  ä¹¦å• DevOpsæ–¹æ³•è®º  ã€Šå‡¤å‡°é¡¹ç›®ï¼šä¸€ä¸ªITè¿ç»´çš„ä¼ å¥‡æ•…äº‹ã€‹ ä»¥å°è¯´çš„æ–¹å¼ï¼Œè®²è¿°äº†ä¸€ä¸ªå‡Œä¹±çš„æ— å¯æ•‘è¯çš„è¿ç»´é¡¹ç›®ç»„æ˜¯å¦‚ä½•ä¸€æ­¥æ­¥è¾¾æˆæœ€åé«˜æ•ˆä¸”èˆ’å¿ƒçš„å·¥ä½œçŠ¶æ€ã€‚\n ã€ŠDevOpså®è·µæŒ‡å—ã€‹ ã€Šå‡¤å‡°é¡¹ç›®ï¼šä¸€ä¸ªITè¿ç»´çš„ä¼ å¥‡æ•…äº‹ã€‹ çš„å§Šå¦¹ç¯‡ï¼Œ æ¶µç›–äº†DevOpsçš„æ¨ªå‘çŸ¥è¯†ï¼Œå¯ä»¥å½“å·¥å…·ä¹¦è¯»ã€‚\n ã€ŠæŒç»­äº¤ä»˜ã€‹\n ã€ŠEffective DevOpsã€‹\n  æºä»£ç ç®¡ç†/Linuxç³»ç»Ÿ  ã€Šgit proã€‹ ç½‘ç»œèµ„æºï¼Œ å…è´¹\n ã€ŠUnix \u0026amp; Linuxå¤§å­¦æ•™ç¨‹ã€‹ Linux, Shell å­¦ä¹ çš„ç»å…¸ä¹¦ç±\n  å®¹å™¨åŒ–ï¼š  ã€Šç¬¬ä¸€æœ¬Dockerä¹¦ã€‹ ã€Šè‡ªå·±åŠ¨æ‰‹å†™Dockerã€‹  å®¹å™¨ç¼–æ’  ã€ŠKubernetesä¸­æ–‡æŒ‡å—ã€‹ ã€ŠKubernetes in Actionã€‹ å®˜ç½‘æ•™ç¨‹  åˆ†å¸ƒå¼å­˜å‚¨  ã€ŠLearning Cephã€‹ ã€ŠCephè®¾è®¡åŸç†ä¸å®ç°ã€‹  è‡ªåŠ¨åŒ–æµ‹è¯• (\u001bå¾…è¡¥å……) å•å…ƒæµ‹è¯•, uiè‡ªåŠ¨åŒ–æµ‹è¯• ç­‰\nè‡ªåŠ¨åŒ–è¿ç»´ Ansible\næ—¥å¿— Elasticsearch, Logstash/Fluentd, Kibana\nç›‘æ§ Prometheus\nè·¯çº¿å›¾ "
    }
,
    {
        "ref": "https://dengxiujun.github.io/blog/emoji-support/",
        "title": "Emoji Support",
        "section": "blog",
        "date" : "2019.03.05",
        "body": "Emoji can be enabled in a Hugo project in a number of ways.\nThe emojify function can be called directly in templates or Inline Shortcodes.\nTo enable emoji globally, set enableEmoji to true in your siteâ€™s configuration and then you can type emoji shorthand codes directly in content files; e.g.\nğŸ™ˆ :see_no_evil: ğŸ™‰ :hear_no_evil: ğŸ™Š :speak_no_evil:\nThe Emoji cheat sheet is a useful reference for emoji shorthand codes.\nN.B. The above steps enable Unicode Standard emoji characters and sequences in Hugo, however the rendering of these glyphs depends on the browser and the platform. To style the emoji you can either use a third party emoji font or a font stack; e.g.\n.emoji { font-family: Apple Color Emoji,Segoe UI Emoji,NotoColorEmoji,Segoe UI Symbol,Android Emoji,EmojiSymbols; }"
    }
]
